//...*/,,,,,,,,*,                         
//,**,*,*,*,,,,,*                        
//  .//((#%%(/***.                       
//. .                                                                                                      (%&&&&&&&&&&(                       
//*/*/(//,/*                                                                                                  /#%%%%%%%%%(                        
//,..(//**////(#/*//,                                                                                            .##%%%%%%%%%#((                       
//*((/(,////(/*/**,*//**,                                   ,(##/*(/**.                                         /##%%%%%%%%#(#/                        
//,/(*/,***/(*.,.*///**,., .                        ,,,(%((#%%%%%%%%%%%%%##/*                                  ,##%%%%%%%%#(##.                         
/////*,,*/(/(/*,.** */(*,** .                  ,./#,**(#&&&&&&&&&&&&&&&&%&%%##(*.                             (#%%%%%%%&&%#(#*                          
//..**//(*,*(////,,.,  ,. ./**.              ***(%&&&&&&&&&&&&&&&&&&&&&&&&&&&%%(/*                          (%%%%%%%%%%#%&&%#.                          
//,,,*//(/((*((//.                           . .#&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%(                       (%%%%%%%%%%%%%%%&%&.                          
//,./(******#/*/,*.                       .,(#%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&/                   /%%%%%%%%%%%%%%%#%###.                           
////(/(((***//(((/,*/,                   .,/(%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%#*,.           *&%%%%&&&%%%%%#(#&&@&&(                             
///(/(#((((//(((//, . .*,,.               ./%%&&&&&&&&&&&&&&&&&&&@&&&&&&&&&&&&&&&&&%&%**,         *#%%%%%%%%%&&&%%##%%%#*                               
/////###((((#(/(/,*/..,(/* .             . (#%&&&&&@@&&&&&&&&&&&&&&&&&&&&&&&&&&&&%#/#*.,/##%%&%%%%%%%%%%%%%%&%%&&&%&%(##.                    .,...      
//(//***,*./##((((((#,..                   ,(%%&#*%@@&@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%%%%&&&&&&%%%%%%%%%%%%%%%%#%&&@&%.            .... . .. .         
//((%%((/////(##*,((*   .                    ##(/&&&&@@&&&&@&&&&&&&&&&&&&&%%%&&%%%%%%%&#/**,,/(((#%%%%%%%%&&##%%%%&&&&,        . .     .. .,..          
///((%%%#(((#((#((#((((#((((/                *(%%%(&@#&@&&&&&&%&&%%%&&&&%%%##(********//*,,,.....,***(%%%&%%#&&%&%%&%.....,,,,,***.**,.,. . .... ...    
//(###(((#(///////((#(/(/(* /.                ,*#(#%(%%%&%&%%%%#////(/**,,,,,,,,,,,,,,.*,.,........../((%%%&&&@&%#,.....,,*,,*,*.   .,.,*    .....,, *,.
//(#%%#((((((((((////((#//((#(/(/.                 .((#######%%####(#/,**,,,,*****,,,,..,,,,..........((*&&%%%%#  .*,,,***/,**,       ..,.    ,,*//*/***
//%%%(((//(((((/(/((//(/%###(#(((((#/.           *((((((/((((#((////(((*,,,,,,,,,,,.....,,,,.,......../#(/%%###%* .********,,.         .*,/*//////((((((
//(/((((/(//(((/(((/(,(##(((((###((####((,.,(#%&%#/////////(((((##%%#(///*.,.,,,......,,,,,.,,,.......,#%//%%#&&.  .   .,,***.            ,/(/(((#(((##%
///#%(###(((((/(((##*%%%#(((((###(((####%%%%%%#%%%(///(////(((((((((((#%%((*,*********,,,,,,,,,,.......(%(/(&&#%#  ,..    . .            *(/(%########(,
//(###((((//((((((/*((#(#(((((##((%%%%%%%%%%%&&&&&&#(((((((//(((((((#%%#(##(,*,,,,,,,,,.,,,,,*,,,......,(((/(&%%%..,,.. . . ..          .,//*.,*,.   .  
////((#((((((####,%%%%%((%%####%&%%#&&&&&&&&&&&&&&&&#((###(///((((#%%##(###%/*,,,,...,,,,,,,,**,,,.....,/((//#%&%%%/......       ..,.,.     . ,. *,,....
//#((*/(((#(((##*%%%((##%%%&#%,,*(%%&&&&&&&&@@@&&&@@@#(#####((((##%%####%%%%%#/////*****,,,,,*,,,,,...../(///*%%%#&&%%.,..   . ,..,*.. .    ...,,.......
///%%%/,**,***/,/.  ,(/*%##,*,,*(%%&&&&%%%&&&@@@&&&&&&#(######((##%%%%%%%%%%%%(,********,,,,*,,,,,,,....*((*,*(%###&@&&&*        .       . ,.*.. ****,.,
//#######%(#//.,**,/*.**/.,(.#(%%%%%%&&&&&@@@@@@@&&&&@&#########(((############%*********,,*,,,,,,,,,.,*.##/,,,#%%%%&&&&&&%,    .       .        ...,.,,
//&&&/,#*//,#//,//,##%,.,*(/*/(&&&@&%%&&&&&&&&&@@@@@@@@%########%%(((########%%%#/******,,,,,,,,,,,,//.,(/#(,,,.#%%%&@&@@&&&&#*/(.,(#(#%#,.(#((,,(. ,##(
//*..*((//%#.*(*(&,*/#(*,.((#%%&&%%%%%%%%&&&&&&&&&&&@@@&#######(#%&%#((##%%%%%%%%(**,*,,,,,,,,,,,,*(/.,(((#%**,,,%&%&@@@@@@&&&&#(#( .#%(*/((/*(%%*(((#*,
//*/,  .*/(/%&%#%##&#/../%&&&%%%&&&&@@@@@@@@@@@@@@@@@@@@%#####(#(#%&&%##((((#(#####*,,,,,,,,,,,,,*/((/*/#%%%*,,,,,&%%&&@@@@@@@&@&%%//*/(,.,//*(##/***,(@
////*/%&%%*%#%&&&&&///(%%&&&&&&&@@@@@&&@@@@@@@@@@@@@@@@@&####(#(#(#&&&&%###########%(,,,,,,,,,,,,///((###&&&/*,,,,*&%&&&@@@@@@@@@&&&#&%.. *(&&&#*,(%%%&%
//*,,.*/*/&%(%&%/&%((/(&&&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@###(((((((#&%%&&%%%##########/,*,,,,,,,,,,*(###%&%%(**,,,.(%&&&&&@@@@@@@&%...  . #&%#(#///*/**/
//#%&&&#((#(#(***(%%&##*/@&@@@@@@@@@@@@@@@@%%%%@@@@@@@@@@&(####(((((#&&%%%%%%%######%%#%,,,,,,,,*/(#(/(#%(%%/**,,,,,%&&&@@@&%##/,/((.  .  #&%(%/,,/((&&#
//%%%&&&%&&&&%(###(%*(&//#&%&@@@@@@@@@@%/(#%%##@@@@@@@@&&&####(((((((%%%%%%%%%%%#%%%###%/,*,,,,,*/((///(#/##/,*,,,,,/%&(%%&&&&/**%,(/*(* ./&&&/,*/*/%&&&
//%%(###%%&%#%&##&@@%%(((#(/(///***/##//((#####&&&&&&&@@@@%(###((((#((%%%%%%%%%%%%%###%%&%#******,/(,*((*(((/,,,,,,,,#****//(%&#/*//(((...*&&&&%***###((
//(%&%%%%&%&%(%&@@%&%%#%&&%%&%#%%&&%(/(/(##((//#&&@@&&&&&&%(#####((((((&&&&&%&%%&%%%&&%%%#%(**********//*///*,,,,,,,,,#,,*/##%%,,*/(((,..,*&&&%&&%%&%&%%
//&#((%&%#&@@@@@@#/%@&#&&&&&&&###&&&%%%%%%%%##(&&&@@@&&&&&&#######((((((%%&%&%%%%%%%%%%####%#************///*,,,,,,,,,/&%&&%(/.,./(/*,,..,/#(%(#&&%&%&%#
//#%%/,%&%##/(#%#/(///(/(,/.*,,*%*.*(##//@@@@@@@@&@@@&&&&&@%(#######((((#%%%%%%%%%%######%%%%%/*********///**,,,,,,,,,,%&%&#(&*,,.**(*,.,,/&#,......,/##
//.#&&&&%&&%(((#&&@@&@&/#%%%(&&%%&&&%&&&&&&&&&&&&&&@@@&&&&%%(#######(((((%%%&%%%%%%%%%%%%%%%%%%(********//****,,,,,,,,,.&&%%%%*,,,,#/(*,,*(#/&%#(###%##&
//&%%%(***///%&@&(/%%%%((##(#%%%&&&%#&&&%%%%%%%%%%%&@@&&&&@@#########(((((%%%%%%%%%%%%%%%%%%%%%%#***/********,,,,,,,,,,,/&%%%&/(#(**(/(/,*#%#(#&@@@%/(%&


import server from "./src/app";
const { conn } = require("./src/db");
import {
  setData,
  setOffers,
  setProposals,
  setPortfolios,
  setReview,
} from "./data";
import { cleanDataBase } from './src/services/cleanDataBase'
const {PORT} = process.env


// Syncing all the models at once.
conn.sync({ force: true }).then(() => {
  server.listen(PORT, async () => {
    console.log(`%s listening at ${PORT}`); // eslint-disable-line no-console

    await setData();
    await setOffers();
    await setProposals();
    await setPortfolios();
    await setReview();
    cleanDataBase();
  });
});
